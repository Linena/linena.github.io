<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OrangBus</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="shortcut icon" href="/orangbus.ico" type="image/jpg">
    <script>
            var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?e4f927d450af136af0b561715b21b9ea";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();
        </script>
    <meta name="description" content="分享生活高效技能,保持勇敢，坚持有趣，生命不息，折腾不止，不断分享个人的生活笔记！">
    <meta property="article:modified_time" content="2021-07-06T08:05:24.000Z">
    <meta property="og:site_name" content="OrangBus">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/tempNote.html">
    <meta name="twitter:url" content="/tempNote.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="keywords" content="html,css,jquery,thinkphp,laravel,docker,linux,manjaro">
    <meta name="auther" content="OrangBus">
    <link rel="preload" href="/assets/css/0.styles.8405cd42.css" as="style"><link rel="preload" href="/assets/js/app.67f09986.js" as="script"><link rel="preload" href="/assets/js/2.f877e14c.js" as="script"><link rel="preload" href="/assets/js/48.4e4b670c.js" as="script"><link rel="prefetch" href="/assets/js/10.73c6197d.js"><link rel="prefetch" href="/assets/js/11.e74ca1b5.js"><link rel="prefetch" href="/assets/js/12.17ff8135.js"><link rel="prefetch" href="/assets/js/13.3813c857.js"><link rel="prefetch" href="/assets/js/14.86e97267.js"><link rel="prefetch" href="/assets/js/15.ceec221c.js"><link rel="prefetch" href="/assets/js/16.2d49486e.js"><link rel="prefetch" href="/assets/js/17.c7f5ed13.js"><link rel="prefetch" href="/assets/js/18.249eda08.js"><link rel="prefetch" href="/assets/js/19.0601fdd9.js"><link rel="prefetch" href="/assets/js/20.25b38e36.js"><link rel="prefetch" href="/assets/js/21.d5f04004.js"><link rel="prefetch" href="/assets/js/22.8d905648.js"><link rel="prefetch" href="/assets/js/23.7fe89979.js"><link rel="prefetch" href="/assets/js/24.4c8b004c.js"><link rel="prefetch" href="/assets/js/25.7bd7f1e3.js"><link rel="prefetch" href="/assets/js/26.03e7ab9b.js"><link rel="prefetch" href="/assets/js/27.613ec3bb.js"><link rel="prefetch" href="/assets/js/28.b3b7e898.js"><link rel="prefetch" href="/assets/js/29.480ac30c.js"><link rel="prefetch" href="/assets/js/3.a3a6b999.js"><link rel="prefetch" href="/assets/js/30.6ed04a7d.js"><link rel="prefetch" href="/assets/js/31.3c4c6c8d.js"><link rel="prefetch" href="/assets/js/32.4431625e.js"><link rel="prefetch" href="/assets/js/33.6dfd9426.js"><link rel="prefetch" href="/assets/js/34.016f837a.js"><link rel="prefetch" href="/assets/js/35.df655b64.js"><link rel="prefetch" href="/assets/js/36.d62e9782.js"><link rel="prefetch" href="/assets/js/37.a2709eca.js"><link rel="prefetch" href="/assets/js/38.d137b624.js"><link rel="prefetch" href="/assets/js/39.587944a8.js"><link rel="prefetch" href="/assets/js/4.66cb441f.js"><link rel="prefetch" href="/assets/js/40.32dd9e73.js"><link rel="prefetch" href="/assets/js/41.9ace173e.js"><link rel="prefetch" href="/assets/js/42.c5247c86.js"><link rel="prefetch" href="/assets/js/43.85be6e8e.js"><link rel="prefetch" href="/assets/js/44.f0e813a0.js"><link rel="prefetch" href="/assets/js/45.a76eefef.js"><link rel="prefetch" href="/assets/js/46.fea0f0f1.js"><link rel="prefetch" href="/assets/js/47.fc3a6a6f.js"><link rel="prefetch" href="/assets/js/49.536308a4.js"><link rel="prefetch" href="/assets/js/5.3efdf6a7.js"><link rel="prefetch" href="/assets/js/6.0fa850d7.js"><link rel="prefetch" href="/assets/js/7.c8b88a9e.js"><link rel="prefetch" href="/assets/js/8.64dc4562.js"><link rel="prefetch" href="/assets/js/9.b6ea3010.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8405cd42.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/orangbus.png" alt="OrangBus" class="logo"> <span class="site-name can-hide">OrangBus</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Window" class="dropdown-title"><span class="title">Window</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Window/" class="nav-link">
  高效工具
</a></li><li class="dropdown-item"><!----> <a href="https://pc.qq.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  软件中心
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Linux/Config.html" class="nav-link">
  配置文件
</a></li><li class="dropdown-item"><!----> <a href="/Linux/Tool.html" class="nav-link">
  生产工具
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/orangbus/tool" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Manjaro入门到生产
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><h4>
          开发环境
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://laradock.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Laradock
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.bt.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  宝塔Linux面板
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://laragon.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  laragon-window
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          Linux发行版
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.deepin.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Deepin
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://manjaro.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Manjaro
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cn.ubuntu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ubuntu
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.centos.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  centos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          Laradock实战
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://yeasy.gitbooks.io/docker_practice/install/mirror.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker入门到实战
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://laradock.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Laradock官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://labs.play-with-docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker在线学习调试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://k8smeetup.github.io/docs/tutorials/kubernetes-basics/deploy-interactive/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Kubernetes互动教程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/Docker/" class="nav-link">
  Docker
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Code" class="dropdown-title"><span class="title">Code</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Html
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Code/RequireJs.html" class="nav-link">
  RequireJs
</a></li><li class="dropdown-subitem"><a href="/Code/Layui.html" class="nav-link">
  Layui笔记
</a></li><li class="dropdown-subitem"><a href="/Code/Javascript.html" class="nav-link">
  Javascript手册
</a></li><li class="dropdown-subitem"><a href="/Code/Css.html" class="nav-link">
  Css样式收藏
</a></li><li class="dropdown-subitem"><a href="/Code/Menu.html" class="nav-link">
  在线手册
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Code/VueNote.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><h4>
          Php
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Code/Php.html" class="nav-link">
  Php使用技巧
</a></li><li class="dropdown-subitem"><a href="/Code/Thinkphp.html" class="nav-link">
  ThinkPhp
</a></li><li class="dropdown-subitem"><a href="/Code/LaraCode.html" class="nav-link">
  LaraCode
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Python/Python.html" class="nav-link">
  Python入门
</a></li><li class="dropdown-subitem"><a href="/Python/Scrapy.html" class="nav-link">
  Scrapy
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/MyNote/" class="nav-link">
  MyNote
</a></div><div class="nav-item"><a href="/WebNote/" class="nav-link">
  WebNote
</a></div><div class="nav-item"><a href="/OrangBus/" class="nav-link">
  OrangBus
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><span class="title">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://space.bilibili.com/32604448" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BiliBili
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://music.163.com/#/user/home?id=107573124" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NetMusic
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jq.qq.com/?wv=1027&amp;k=5UQXtUm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ交流群
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/orangbus/vuepress-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Window" class="dropdown-title"><span class="title">Window</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Window/" class="nav-link">
  高效工具
</a></li><li class="dropdown-item"><!----> <a href="https://pc.qq.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  软件中心
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><span class="title">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Linux/Config.html" class="nav-link">
  配置文件
</a></li><li class="dropdown-item"><!----> <a href="/Linux/Tool.html" class="nav-link">
  生产工具
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/orangbus/tool" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Manjaro入门到生产
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><h4>
          开发环境
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://laradock.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Laradock
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.bt.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  宝塔Linux面板
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://laragon.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  laragon-window
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          Linux发行版
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://www.deepin.org/zh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Deepin
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://manjaro.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Manjaro
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://cn.ubuntu.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ubuntu
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://www.centos.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  centos
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4>
          Laradock实战
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://yeasy.gitbooks.io/docker_practice/install/mirror.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker入门到实战
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://laradock.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Laradock官网
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://labs.play-with-docker.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Docker在线学习调试
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://k8smeetup.github.io/docs/tutorials/kubernetes-basics/deploy-interactive/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Kubernetes互动教程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><a href="/Docker/" class="nav-link">
  Docker
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Code" class="dropdown-title"><span class="title">Code</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Html
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Code/RequireJs.html" class="nav-link">
  RequireJs
</a></li><li class="dropdown-subitem"><a href="/Code/Layui.html" class="nav-link">
  Layui笔记
</a></li><li class="dropdown-subitem"><a href="/Code/Javascript.html" class="nav-link">
  Javascript手册
</a></li><li class="dropdown-subitem"><a href="/Code/Css.html" class="nav-link">
  Css样式收藏
</a></li><li class="dropdown-subitem"><a href="/Code/Menu.html" class="nav-link">
  在线手册
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/Code/VueNote.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><h4>
          Php
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Code/Php.html" class="nav-link">
  Php使用技巧
</a></li><li class="dropdown-subitem"><a href="/Code/Thinkphp.html" class="nav-link">
  ThinkPhp
</a></li><li class="dropdown-subitem"><a href="/Code/LaraCode.html" class="nav-link">
  LaraCode
</a></li></ul></li><li class="dropdown-item"><h4>
          Python
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/Python/Python.html" class="nav-link">
  Python入门
</a></li><li class="dropdown-subitem"><a href="/Python/Scrapy.html" class="nav-link">
  Scrapy
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/MyNote/" class="nav-link">
  MyNote
</a></div><div class="nav-item"><a href="/WebNote/" class="nav-link">
  WebNote
</a></div><div class="nav-item"><a href="/OrangBus/" class="nav-link">
  OrangBus
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="More" class="dropdown-title"><span class="title">More</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://space.bilibili.com/32604448" target="_blank" rel="noopener noreferrer" class="nav-link external">
  BiliBili
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://music.163.com/#/user/home?id=107573124" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NetMusic
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://jq.qq.com/?wv=1027&amp;k=5UQXtUm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ交流群
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/orangbus/vuepress-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// 二维码生成</span>
<span class="token variable">$site_murl</span><span class="token operator">=</span>SystemSite<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'site_murl'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$url</span><span class="token operator">=</span><span class="token single-quoted-string string">'http://'</span><span class="token punctuation">.</span><span class="token variable">$site_murl</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/webView/webView?goUrl=%2findex%2fGwgl%2findex'</span><span class="token punctuation">;</span>

<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token double-quoted-string string">&quot;<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$url</span><span class="token punctuation">}</span></span>&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;layui-btn&quot;</span> id<span class="token operator">=</span><span class="token double-quoted-string string">&quot;qrcode&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token double-quoted-string string">&quot;layui-icon&quot;</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span><span class="token shell-comment comment">#xe609;&lt;/i&gt;去分享&lt;/a&gt;</span>
    
git@gitee<span class="token punctuation">.</span>com<span class="token punctuation">:</span>orangbus<span class="token operator">/</span>easy<span class="token operator">-</span>chart<span class="token punctuation">.</span>git
    git@gitee<span class="token punctuation">.</span>com<span class="token punctuation">:</span>orangbus<span class="token operator">/</span>vue<span class="token operator">-</span>chart<span class="token punctuation">.</span>git
</code></pre></div><h2 id="_9-8"><a href="#_9-8" class="header-anchor">#</a> 9-8</h2> <ul><li><p>[ ] 打卡用户还没有删除</p></li> <li><p>[x] 针对对某个活动的【奖励天数】必须唯一</p></li> <li><p>[ ] ```
share_open_uid -&gt; pid 分享人的id</p> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div></li> <li><p>[ ] 打卡活动列表页面统计报名人数</p></li></ul> <h2 id="_8-29"><a href="#_8-29" class="header-anchor">#</a> 8-29</h2> <p>Course/zwList</p> <h2 id="_8-28测试"><a href="#_8-28测试" class="header-anchor">#</a> 8-28测试</h2> <p>积分兑换礼品 -&gt; 波币兑换了5钱包</p> <p>直接推荐购买  -&gt; 推广收益显示二级</p> <h1 id="_8-25"><a href="#_8-25" class="header-anchor">#</a> 8-25</h1> <p>更新内容：</p> <ol><li><p>大转盘列表接口，每个转盘活动对应一个客服。</p></li> <li><p>新增后台选座可以指定用户表的用户进行课程开通和选座。（新增的选座只是开启当前这个班级关联的课程，新增选座确定后，既完成该班级关联课程开通，又对选择的学员进行指定占座）</p></li> <li><p>新增：KsrlYear数据表，修改 Ksrl表结构。</p></li></ol> <p>修改内容</p> <ol><li>考试日历移动端页面整改，新增年份选择。</li> <li>考试日历的考试时间和报考时间修改为时间戳的格式储存。</li> <li>座位详情的用户信息来自订单表。</li> <li>修改面授课程关联班级异常报错，主要问题有：当课程关联班级时，全部取消关联班级报错。</li></ol> <p><strong>测试新问题暂未修复：</strong></p> <ol><li><p>考试日历排序 --未修改</p></li> <li><p>RoomBj/newSeatDo</p> <div class="language- extra-class"><pre class="language-text"><code>where(&quot;uid&quot;,$user_id)
</code></pre></div></li> <li><p>考试日历删除： <code>if (this.month[index].id == this.month_id){return false;}</code></p></li></ol> <h1 id="_8-18完成任务清单"><a href="#_8-18完成任务清单" class="header-anchor">#</a> 8-18完成任务清单</h1> <ol><li><p>国考查询: 前段 + 后端</p></li> <li><p>购买课程占座:</p> <p>后台: 创建教室,班级,课程关联班级,指定选座,取消选座,更换座位;</p> <p>前端: 页面渲染</p></li> <li><p>毕业信息查询:</p> <p>主要功能:基本权限管理,导入学生名单, 信息审核</p></li> <li><p>考试日历: 前端 + 后端</p></li> <li><p>课程表,最低分数查询</p></li> <li><p>休息已知问题: 毕业信息审核短信发送, 重构 [成绩查询,录取查询,资料和对,岗位查询,敢为排名,最低分数,国考,考试日历,毕业查询的,课程表] 的微信分享</p></li></ol> <h2 id="修改"><a href="#修改" class="header-anchor">#</a> 修改</h2> <div class="language- extra-class"><pre class="language-text"><code>course/index -&gt; 备注取消编辑
编辑班级  -&gt; 取消开课时间
RoomBj -&gt; edit -&gt; $data['kk_time'] = date('Y-m-d H:i:s',$data['kk_stime']);

roombj/view/edit -&gt; 
laydate.render({
                elem: '#kk_time' //指定元素
                ,type: 'datetime'
                ,trigger:'click'
            });
            

</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>room_bj/info -&gt; submitSeat '{$course_id}'

appointSeat
Bj::where(&quot;id&quot;,$param['bj_id'])-&gt;dec(&quot;remain&quot;,1)-&gt;update();
</code></pre></div><hr> <p>创建班级添加备注  --- 未添加 ok</p> <p>关联班级备注 --未添加 ok</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">//course_bj</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">addDo</span><span class="token punctuation">(</span>Request <span class="token variable">$request</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$param</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'course_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token double-quoted-string string">&quot;课程ID不能为空!&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$hadSelectedBj</span> <span class="token operator">=</span> Bj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;course_id&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'course_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id desc&quot;</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;bj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//第一次创建</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$hadSelectedBj</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
                <span class="token double-quoted-string string">&quot;course_id&quot;</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'course_id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token double-quoted-string string">&quot;bj&quot;</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token double-quoted-string string">&quot;remark&quot;</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'remark'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                Bj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//修改班级不可用</span>
                RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;status&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span>ErrorException <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$e</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token double-quoted-string string">&quot;创建成功!&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 更新或者删除</span>
        <span class="token variable">$hadSelectedBjAyy</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$hadSelectedBj</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$paramSelectedBjArr</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//如果全部取消就直接删除</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token variable">$delBjids</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$hadSelectedBj</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token variable">$countBj</span> <span class="token operator">=</span> Bj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;course_id&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'course_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;delete_time&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token variable">$countZw</span> <span class="token operator">=</span> RoomSeat<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;bj_id&quot;</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token variable">$delBjids</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;delete_time&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//取消班级不可用状态</span>
                RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token variable">$delBjids</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;status&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span>ErrorException <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$e</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token double-quoted-string string">&quot;取消关联&quot;</span><span class="token punctuation">.</span><span class="token variable">$countBj</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;个班级,累计删除关联座位:&quot;</span><span class="token punctuation">.</span><span class="token variable">$countZw</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$paramSelectedBjArr</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$hadSelectedBjAyy</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//删除</span>
            <span class="token variable">$diffIds</span> <span class="token operator">=</span> <span class="token function">array_diff</span><span class="token punctuation">(</span><span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$hadSelectedBj</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token variable">$seatCount</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$diffIds</span> <span class="token keyword">as</span> <span class="token variable">$item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token variable">$roomRaw</span> <span class="token operator">=</span> RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token variable">$item</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">with</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;room&quot;</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">visible</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;room&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;room&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;name,room_id&quot;</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$roomRaw</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$roomRaw</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;教室不存在!&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//更新原始座位表结构</span>
                    RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$roomRaw</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                        RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token variable">$roomRaw</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'room_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;room&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$roomRaw</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'room'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'room'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token variable">$seatNum</span> <span class="token operator">=</span> RoomSeat<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;bj_id&quot;</span><span class="token punctuation">,</span><span class="token variable">$item</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;delete_time&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token variable">$seatCount</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token variable">$seatCount</span> <span class="token operator">+</span> <span class="token variable">$seatNum</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//更新关联班级信息</span>
                Bj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;course_id&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'course_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;bj&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;remark&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'remark'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//班级可用状态</span>
                RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token variable">$diffIds</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;status&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span>ErrorException <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$e</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token double-quoted-string string">&quot;取消关联&quot;</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$diffIds</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;个班级,累计删除关联座位&quot;</span><span class="token punctuation">.</span><span class="token variable">$seatCount</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;!&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token variable">$diffIds</span> <span class="token operator">=</span> <span class="token function">array_diff</span><span class="token punctuation">(</span><span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$hadSelectedBj</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            Bj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;course_id&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'course_id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;bj&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token function">explode</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;,&quot;</span><span class="token punctuation">,</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'selectedBj'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;remark&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$param</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'remark'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//更新班级不可用状态</span>
            RoomBj<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token double-quoted-string string">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;in&quot;</span><span class="token punctuation">,</span><span class="token variable">$diffIds</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;status&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span>ErrorException <span class="token variable">$e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token variable">$e</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token double-quoted-string string">&quot;code&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token double-quoted-string string">&quot;msg&quot;</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token double-quoted-string string">&quot;更新&quot;</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$diffIds</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token double-quoted-string string">&quot;个关联班级!&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>关联班级传课程id,</p> <p>如果开启关联课程就显示关联班级,是否开启关联班级</p> <ul><li>关联班级单删除又问题</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// course_bj -&gt; add
if ($mskc['relation'] == 1){
                //关联一门课程的时候:3,1
                $str = strstr($mskc['relation_content'],&quot;|&quot;);
                $mskcIds = [];
                if ($str !== false){
                    $toArray = explode(&quot;|&quot;,$mskc['relation_content']);
                    foreach ($toArray as $item){
                        $temp = explode(&quot;,&quot;,$item);
                        if ($temp[0] == 3) $mskcIds[] = $temp[1];
                    }
                }else{
                    $tempIds = explode(&quot;,&quot;,$mskc['relation_content']);
                    if ($tempIds[0] == 3) $mskcIds[] = $tempIds[1];
                }
                $courseList = EduMskc::where(&quot;id&quot;,&quot;in&quot;,$mskcIds)-&gt;field(&quot;id,title&quot;)-&gt;select()-&gt;toArray();
                return view(&quot;&quot;,[&quot;course_id&quot;=&gt;$courseId,&quot;courseList&quot;=&gt;$courseList]);
            }
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>// courseBj
if ($item['remark'] !== &quot;&quot;){
	$v['remark'] = $item['remark'];
}
</code></pre></div><hr> <div class="language- extra-class"><pre class="language-text"><code>// CourseBj
public function list(Request $request)
    {
        $courseId = $request-&gt;param(&quot;course_id/d&quot;);
        $mskc = EduMskc::where(&quot;id&quot;,$courseId)-&gt;field(&quot;id,title,relation,relation_content&quot;)-&gt;find()-&gt;toArray();
        //是否开启关联售卖
        $mskcIds = [];
        if ($mskc['relation'] == 1){
            $toArray = explode(&quot;|&quot;,$mskc['relation_content']);
            foreach ($toArray as $item){
                $temp = explode(&quot;,&quot;,$item);
                if ($temp[0] == 3) $mskcIds[] = $temp[1];
            }
        }else{
            $mskcIds[] = $courseId;
        };
        $bjMaster = Bj::where(&quot;course_id&quot;,$courseId)-&gt;field(&quot;id as cid,course_id,bj,remark&quot;)-&gt;with(&quot;mskc&quot;)-&gt;visible([&quot;mskc&quot;=&gt;[&quot;title&quot;]])-&gt;find()-&gt;toArray();
        $bjNode = Bj::where(&quot;course_id&quot;,&quot;in&quot;,$mskcIds)-&gt;field(&quot;id as cid,course_id,bj,remark&quot;)-&gt;with(&quot;mskc&quot;)-&gt;visible([&quot;mskc&quot;=&gt;[&quot;title&quot;]])-&gt;select()-&gt;toArray();
        //仅仅只是把主课程排到第一位
        $bj = [];
        $bj[] = $bjMaster;
        foreach ($bjNode as $item){
            $arr[] = $item;
        }
        $list = [];
        foreach ($bj as $item){
            $item['bj'] = RoomBj::where(&quot;id&quot;,&quot;in&quot;,explode(&quot;,&quot;,$item['bj']))-&gt;withoutField(&quot;room,room_id&quot;)-&gt;select()-&gt;toArray();
            $tempArray = [];
            foreach ($item['bj'] as $v){
                $v['cid'] = $item['cid'];
                $v['course_name'] = $item['mskc']['title'];
                if ($item['remark'] !== &quot;&quot;){
                    $v['remark'] = $item['remark'];
                }
                $tempArray[] = $v;
            }
            $list = array_merge($list,$tempArray);
        }
        return json([&quot;code&quot;=&gt;0,&quot;data&quot;=&gt;$list,&quot;count&quot;=&gt;count($list)]);
    }
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>// CourseBj
public function add(Request $request)
    {
        $courseId = $request-&gt;param(&quot;course_id&quot;);
        //获取课程跟关联课程
        $mskc = EduMskc::where(&quot;id&quot;,$courseId)-&gt;field(&quot;id,title,relation,relation_content&quot;)-&gt;find()-&gt;toArray();
        if (!empty($mskc['relation_content'])){
            //是否开启关联售卖
            if ($mskc['relation'] == 1){
                //关联一门课程的时候:3,1
                $str = strstr($mskc['relation_content'],&quot;|&quot;);
                $mskcIds = [];
                if ($str !== false){
                    $toArray = explode(&quot;|&quot;,$mskc['relation_content']);
                    foreach ($toArray as $item){
                        $temp = explode(&quot;,&quot;,$item);
                        if ($temp[0] == 3) $mskcIds[] = $temp[1];
                    }
                }else{
                    $tempIds = explode(&quot;,&quot;,$mskc['relation_content']);
                    if ($tempIds[0] == 3) $mskcIds[] = $tempIds[1];
                }
                $courseMaster =  EduMskc::where(&quot;id&quot;,$courseId)-&gt;field(&quot;id,title&quot;)-&gt;find()-&gt;toArray();
                $courseNode = EduMskc::where(&quot;id&quot;,&quot;in&quot;,$mskcIds)-&gt;field(&quot;id,title&quot;)-&gt;select()-&gt;toArray();
                $courseList = [];
                $courseList[] = $courseMaster;
                foreach ($courseNode as $item){
                    $courseList[] = $item;
                }
                return view(&quot;&quot;,[&quot;course_id&quot;=&gt;$courseId,&quot;courseList&quot;=&gt;$courseList]);
            }
        }
        $courseList = [];
        $courseList[] = $mskc;
        return view(&quot;&quot;,[&quot;course_id&quot;=&gt;$courseId,&quot;courseList&quot;=&gt;$courseList]);
    }
</code></pre></div><h2 id="jinji"><a href="#jinji" class="header-anchor">#</a> jinji</h2> <div class="language- extra-class"><pre class="language-text"><code>appname = nps
runmode = dev

bridge_type=tcp

bridge_port=8024
bridge_ip=0.0.0.0

public_vkey=orangbus666

web_host=orangbus.cn
web_username=orangbus
web_password=orangbus666
web_port = 8095
web_ip=0.0.0.0
</code></pre></div><hr> <p>eduorder</p> <ul><li>sale_type  = 2 是否是关联课程</li> <li>ctype=3 面授</li> <li>courseid -&gt; mskc -&gt; relation_content [1类型，courseid]  3,3</li></ul> <p>edu_mskc</p> <ul><li><p>sold_separately</p></li> <li><p>relation</p></li> <li><p>relation_content</p></li></ul> <h2 id="类型"><a href="#类型" class="header-anchor">#</a> 类型</h2> <ul><li>1: 无</li> <li>2:可选</li> <li>3:不可选</li> <li>4: 已选</li></ul> <h2 id="占座"><a href="#占座" class="header-anchor">#</a> 占座</h2> <h2 id="container"><a href="#container" class="header-anchor">#</a> container</h2> <h2 id="model"><a href="#model" class="header-anchor">#</a> model</h2> <h2 id="数据表"><a href="#数据表" class="header-anchor">#</a> 数据表</h2> <p>班级：</p> <hr> <h1 id="国考"><a href="#国考" class="header-anchor">#</a> 国考</h1> <blockquote><p>GwglDq/index</p></blockquote> <h2 id="开始日历"><a href="#开始日历" class="header-anchor">#</a> 开始日历</h2> <blockquote><p>Ksrl/index</p></blockquote> <h2 id="毕业信息核对"><a href="#毕业信息核对" class="header-anchor">#</a> 毕业信息核对</h2> <blockquote><p>Bycx/index</p></blockquote> <p>前段：姓名  身份证  手机号  （验证码）</p> <blockquote><p>2.29 新增、修改内容</p></blockquote> <p>新增：</p> <ul><li>课程表添加微信分享设置+分享二维码按钮。</li> <li>国考专栏。</li> <li>考试日历。</li> <li>毕业查询。</li> <li>最低分数查询</li></ul> <p>修改：</p> <ul><li>修改微信分享表结构，涉及【成绩查询、录取查询、资料核对、岗位管理、排名查询、最低分数下旬、国考、考试日历、毕业查询】的前端分享设置。(后台修改微信分享设置 setting方法，前端修改 siteInfo 方法)</li> <li>优化国考查询。</li> <li>年份管理的model显示字段，后台数据展示页面。</li> <li>数据库修改【student_year】 的 title 字段（字段长度加大）</li> <li>删除 wy_student_config表，以及模型：StudentConfig</li></ul> <p>升级影响内容：</p> <ul><li>成绩查询、录取查询、资料核对、岗位管理、排名查询、最低分数下旬、国考、考试日历、毕业查询的全部分享设置。</li></ul> <p>权限管理添加</p> <ul><li>国考： GwglDq/index</li> <li>考试日历：Ksrl/index</li> <li>最低分数查询：Zdfs/index</li> <li>毕业查询：Bycx/index</li></ul> <p>需要修改内容：</p> <ul><li>【最低分数下旬、国考、考试日历、毕业查询】的微信分享</li></ul> <blockquote><p>升级遇到问题：</p></blockquote> <p>录取查询分享是 成绩查询</p> <p>排名验证码错误：倒序查询</p> <div class="language- extra-class"><pre class="language-text"><code>// RankTop
result
$getCode = SmsCode::where(&quot;phone&quot;,$param['phone'])-&gt;where(&quot;type&quot;,&quot;phone&quot;)-&gt;order(&quot;id DESC&quot;)-&gt;find();
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/orangbus/vuepress-blog/edit/master/docs/tempNote.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/6/2021, 4:05:24 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div></div></div>
    <script src="/assets/js/app.67f09986.js" defer></script><script src="/assets/js/2.f877e14c.js" defer></script><script src="/assets/js/48.4e4b670c.js" defer></script>
  </body>
</html>
