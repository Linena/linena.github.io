(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{414:function(t,s,a){"use strict";a.r(s);var n=a(55),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[a("span",{staticStyle:{color:"red"}},[t._v("更多Linux配置请参考：")]),t._v("<https://github.com/orangbus/Tool")])]),t._v(" "),a("h2",{attrs:{id:"在线工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在线工具"}},[t._v("#")]),t._v(" 在线工具")]),t._v(" "),a("p",[t._v("php在线调试："),a("a",{attrs:{href:"http://php.jsrun.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://php.jsrun.net"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"linux快捷键"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux快捷键"}},[t._v("#")]),t._v(" Linux快捷键")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("Ctrl + r")]),t._v(" 搜索匹配历史执行过的命令。")])]),t._v(" "),a("h2",{attrs:{id:"linux-如何开放端口和关闭端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-如何开放端口和关闭端口"}},[t._v("#")]),t._v(" Linux 如何开放端口和关闭端口")]),t._v(" "),a("p",[t._v("打开端口号")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("iptables -A INPUT -ptcp --dport  端口号-j ACCEPT\n")])])]),a("p",[t._v("关闭端口号")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("iptables -A OUTPUT -p tcp --dport 端口号-j DROP\n")])])]),a("p",[t._v("保存设置")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" iptables save\n")])])]),a("h2",{attrs:{id:"you-get-使用技巧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#you-get-使用技巧"}},[t._v("#")]),t._v(" you-get 使用技巧")]),t._v(" "),a("p",[t._v("首先安装pip，更多安装方法参考"),a("a",{attrs:{href:"https://www.runoob.com/w3cnote/python-pip-install-usage.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("菜鸟"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py   # 下载安装脚本\nsudo python3 get-pip.py    # 运行安装脚本。\n")])])]),a("p",[t._v("部分 Linux 发行版可直接用包管理器安装 pip，如 Debian 和 Ubuntu：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sudo apt-get install python3-pip\n# 测试\npip3 -v\n")])])]),a("p",[t._v("安装 You-get")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("pip3 install you-get\n")])])]),a("h3",{attrs:{id:"如何下载bilibili视频-并指定清晰度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何下载bilibili视频-并指定清晰度"}},[t._v("#")]),t._v(" 如何下载bilibili视频,并指定清晰度")]),t._v(" "),a("p",[t._v("下载单个视频 (直接跟上视频的地址就可以)")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("you-get https://www.bilibili.com/video/BV1xxxxxx\n")])])]),a("p",[t._v("批量下载一个专辑，比如一门课程有99+集视频，那么我们可以这样")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("you-get -l https://www.bilibili.com/video/BV1xxxxxxx //可能下载不了\n")])])]),a("p",[t._v("有的小伙伴可能执行上面的命令并不能下载，这时候我们需要审查网页源码，找到已 "),a("span",{staticStyle:{color:"red"}},[t._v("avxxxxx")]),t._v(" 结尾的链接才能下载。")]),t._v(" "),a("p",[t._v("在当前视频播放页面【右键】【查看网页源码】，搜索 【av】 , 在meta头里面有个链接是这样的 "),a("strong",[t._v('content="https://www.bilibili.com/video/av2002xxxx/"')]),t._v(" 的，这时候我们就可以复制这个链接下载了")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("you-get -l https://www.bilibili.com/video/av2002xxxx\n")])])]),a("p",[t._v("如何指定清晰度")]),t._v(" "),a("p",[t._v("首先我们先查看视频信息")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("you-get -i https://www.bilibili.com/video/BV1xxxxxx\n----- 我们会看到一下信息 ------\nstreams:             # Available quality and codecs\n    [ DASH ] ____________________________________\n    - format:        dash-flv\n      container:     mp4\n      quality:       高清 1080P\n      size:          214.9 MiB (225387178 bytes)\n    # download-with: you-get --format=dash-flv [URL] //-----\x3e 这里也是有下载提示的哦\n\n    - format:        dash-flv720\n      container:     mp4\n      quality:       高清 720P\n      size:          164.1 MiB (172104993 bytes)\n    # download-with: you-get --format=dash-flv720 [URL]\n\n    - format:        dash-flv480\n      container:     mp4\n      quality:       清晰 480P\n      size:          116.1 MiB (121745328 bytes)\n    # download-with: you-get --format=dash-flv480 [URL]\n\n    - format:        dash-flv360\n      container:     mp4\n      quality:       流畅 360P\n      size:          57.1 MiB (59885060 bytes)\n    # download-with: you-get --format=dash-flv360 [URL]\n\n")])])]),a("p",[t._v("其中这个"),a("code",[t._v("format")]),t._v(" 就是清晰度参数，那么我们就可这这样进行下载指定清晰度的视频了")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("you-get -F dash-flv https://www.bilibili.com/video/BV1xxxxxx\n// 批量下载\nyou-get -l -F dash-flv https://www.bilibili.com/video/avxxxxxx\n")])])]),a("h3",{attrs:{id:"如何断点下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何断点下载"}},[t._v("#")]),t._v(" 如何断点下载")]),t._v(" "),a("p",[t._v("假如我们的下载的视频一共有 100 集，但是 you-get 下载到 50集就停止了，那我们应该怎么从 51集开始下载呢？")]),t._v(" "),a("p",[t._v("其实注意观察的小伙伴可能会发现，当我们点击100集当中的其中一集的时候，bilibili的视频地址变成了这样的")]),t._v(" "),a("div",{staticClass:"language-url extra-class"},[a("pre",{pre:!0,attrs:{class:"language-url"}},[a("code",[a("span",{pre:!0,attrs:{class:"token scheme"}},[t._v("https"),a("span",{pre:!0,attrs:{class:"token scheme-delimiter"}},[t._v(":")])]),a("span",{pre:!0,attrs:{class:"token authority"}},[a("span",{pre:!0,attrs:{class:"token authority-delimiter"}},[t._v("//")]),a("span",{pre:!0,attrs:{class:"token host"}},[t._v("www.bilibili.com")])]),a("span",{pre:!0,attrs:{class:"token path"}},[a("span",{pre:!0,attrs:{class:"token path-separator"}},[t._v("/")]),t._v("video"),a("span",{pre:!0,attrs:{class:"token path-separator"}},[t._v("/")]),t._v("BVxxxxxx")]),a("span",{pre:!0,attrs:{class:"token query"}},[a("span",{pre:!0,attrs:{class:"token query-delimiter"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token pair"}},[a("span",{pre:!0,attrs:{class:"token key"}},[t._v("p")]),t._v("="),a("span",{pre:!0,attrs:{class:"token value"}},[t._v("57")])])]),t._v("\n")])])]),a("p",[t._v("后面多了一个 "),a("code",[t._v("?p=57")]),t._v(" ,如果我们需要断点下载的话 "),a("span",{staticStyle:{color:"red"}},[t._v("（注意视频地址是 avxxxx,不是网页的原地址BV1xxxxxx）")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("you-get -l -F dash-flv https://www.bilibili.com/video/avxxxxxx?p"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("51")]),t._v("\n")])])]),a("h2",{attrs:{id:"通过lrzsz与linux传文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过lrzsz与linux传文件"}},[t._v("#")]),t._v(" 通过lrzsz与Linux传文件")]),t._v(" "),a("p",[t._v("安装")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" lrzsz\n")])])]),a("p",[t._v("上传文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("rz "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("回车"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("下载文件")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("sz fileName.txt\n")])])]),a("p",[t._v("详细："),a("a",{attrs:{href:"https://birdteam.net/4479",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://birdteam.net/4479"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"ssh远程链接工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssh远程链接工具"}},[t._v("#")]),t._v(" SSh远程链接工具")]),t._v(" "),a("p",[t._v("FinalShell（推荐）："),a("a",{attrs:{href:"http://www.hostbuf.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://www.hostbuf.com/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Terminus（推荐）："),a("a",{attrs:{href:"https://github.com/Eugeny/terminus",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/Eugeny/terminus"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Git (必备)："),a("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://git-scm.com/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("babun："),a("a",{attrs:{href:"http://babun.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://babun.github.io/"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"linux开启ssh连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux开启ssh连接"}},[t._v("#")]),t._v(" linux开启ssh连接")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("debian")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("sudo vim /etc/ssh/sshd_config\n\n# debian9:修改一下文件\n将#PasswordAuthentication no的注释去掉，并且将no修改为yes\n将#PermitRootLogin prohibit-password的注释去掉，将prohibit-password改为yes\n重启ssh： sudo systemctl restartt sshd\n#================================================\n#debain10\nPermitRootLogin yes\nPasswordAuthention yes\n重启ssh： sudo systemctl restartt sshd\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"压力测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#压力测试"}},[t._v("#")]),t._v(" 压力测试")]),t._v(" "),a("blockquote",[a("p",[t._v("webbench -c 并发数 -t 运行测试时间 URL 【http://www.baidu.com/】")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("webbench -c "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" -t "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" http://www.baidu.com/\n")])])]),a("h2",{attrs:{id:"测速脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测速脚本"}},[t._v("#")]),t._v(" 测速脚本")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -Lso- https://git.io/superspeed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"如何快速访问github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何快速访问github"}},[t._v("#")]),t._v(" 如何快速访问Github")]),t._v(" "),a("h3",{attrs:{id:"ip解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ip解析"}},[t._v("#")]),t._v(" IP解析")]),t._v(" "),a("p",[t._v("作为一个小白，经常需要访问 "),a("code",[t._v("github")]),t._v(" 来学习，但是呢经常打不开这个网站，或者clone的时候网速很慢，这个时候==怎么解决呢？==")]),t._v(" "),a("p",[t._v("1、打开这个网站：https://www.ipaddress.com ，输入我们"),a("strong",[t._v("需要访问")]),t._v("的域名，进行搜索，你会得到一个"),a("strong",[t._v("ip地址")]),t._v("。")]),t._v(" "),a("p",[t._v("2、修改本地"),a("code",[t._v("hosts")]),t._v(" 文件直接访问，这样就可以了，")]),t._v(" "),a("p",[a("strong",[t._v("案例：")]),t._v(" 访问 "),a("code",[t._v("github.com")]),t._v(" 和"),a("code",[t._v("raw.githubusercontent.com")])]),t._v(" "),a("p",[t._v("打开 "),a("code",[t._v("https://www.ipaddress.com")]),t._v(" 搜索 "),a("code",[t._v("github.com")]),t._v(" 和"),a("code",[t._v("raw.githubusercontent.com")]),t._v("  你会看到一个如下IP地址")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/image-20201215110741455.png",alt:"image-20201215110741455"}})]),t._v(" "),a("p",[t._v("打开本机电脑的 "),a("code",[t._v("hosts")]),t._v(" 文件，我的电脑是linux，所以我的 "),a("code",[t._v("hosts")]),t._v("文件在 (window用户自行百度)")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/hosts\n")])])]),a("p",[t._v("添加如下配置")]),t._v(" "),a("div",{staticClass:"language-host extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("140.82.114.4 github.com\n199.232.96.133 raw.githubusercontent.com\n")])])]),a("p",[t._v("现在打开 "),a("code",[t._v("https://github.com")]),t._v(" 就可以访问了。")]),t._v(" "),a("p",[t._v("如何还是无法访问，cmd中输入"),a("code",[t._v("ipconfig/flushdns")]),t._v("刷新dns")]),t._v(" "),a("p",[t._v("其它国外的网站是不是也可以类似的操作？比如 google? youtube? .........")]),t._v(" "),a("h3",{attrs:{id:"github镜像站"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github镜像站"}},[t._v("#")]),t._v(" Github镜像站")]),t._v(" "),a("p",[t._v("假如以上方法还是很慢，或者不可行，你可以尝试采用下面的方法")]),t._v(" "),a("blockquote",[a("p",[t._v("Github: https://github.com/fhefh2015/Fast-GitHub")]),t._v(" "),a("p",[t._v("Google App: https://chrome.google.com/webstore/detail/github%E5%8A%A0%E9%80%9F/mfnkflidjnladnkldfonnaicljppahpg （需要体力爬梯子）")])]),t._v(" "),a("p",[t._v("安装完之后你的界面是这样的")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/image-20201215111505365.png",alt:"image-20201215111505365"}})]),t._v(" "),a("p",[t._v("先睹为快：https://github.com.cnpmjs.org/orangbus/tool")]),t._v(" "),a("h3",{attrs:{id:"switchhosts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#switchhosts"}},[t._v("#")]),t._v(" SwitchHosts")]),t._v(" "),a("blockquote",[a("p",[t._v("https://github.com/oldj/SwitchHosts/releases")])]),t._v(" "),a("p",[t._v("具体怎么使用就查看官网文档吧。")]),t._v(" "),a("h2",{attrs:{id:"ubuntu-install-brew"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-install-brew"}},[t._v("#")]),t._v(" ubuntu install brew")]),t._v(" "),a("blockquote",[a("p",[t._v("https://docs.brew.sh/Homebrew-on-Linux")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/Homebrew/linuxbrew.git ~/.linuxbrew\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" .bash_profile\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ====================")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/.linuxbrew/bin:"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("MANPATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/.linuxbrew/share/man:"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$MANPATH")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("INFOPATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$HOME")]),t._v("/.linuxbrew/share/info:"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$INFOPATH")]),t._v('"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ====================")]),t._v("\n\nbrew update "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## run twice ")]),t._v("\nbrew doctor\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# test")]),t._v("\nbrew "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" hello\n")])])]),a("h2",{attrs:{id:"推荐uinux发行版-常用debian"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#推荐uinux发行版-常用debian"}},[t._v("#")]),t._v(" 推荐Uinux发行版-常用Debian")]),t._v(" "),a("p",[t._v("Manjaro："),a("a",{attrs:{href:"https://manjaro.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://manjaro.org/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Deepin："),a("a",{attrs:{href:"https://www.deepin.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.deepin.org/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Ubuntu："),a("a",{attrs:{href:"https://www.ubuntu.com/index_kylin",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.ubuntu.com/index_kylin"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Centos："),a("a",{attrs:{href:"https://www.centos.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.centos.org/"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"扶墙脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#扶墙脚本"}},[t._v("#")]),t._v(" 扶墙脚本")]),t._v(" "),a("p",[t._v("233Blog:https://233blog.com")]),t._v(" "),a("p",[t._v("要求：Ubuntu 16+ / Debian 8+ / CentOS 7+ 系统")]),t._v(" "),a("p",[t._v("推荐使用 Debian 9 系统，脚本会自动启用 BBR 优化。")]),t._v(" "),a("p",[t._v("备注：不推荐使用 Debian 8 系统，因为 Caddy 申请证书可能会出现一些莫名其妙的问题")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -s -L https://git.io/v2ray.sh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"crontab使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#crontab使用"}},[t._v("#")]),t._v(" crontab使用")]),t._v(" "),a("blockquote",[a("p",[t._v("语法检查网站：https://crontab.guru/")])]),t._v(" "),a("p",[t._v("安装：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" contab\n")])])]),a("p",[t._v("基本命令")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cron")]),t._v(" restart/status/start\n")])])]),a("p",[t._v("基本语法")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('语法： 分钟 小时 每月中的某一天 月份 每周中的某一天 需要执行的命令\n\n// 每分钟输出 orangbus.cn 字符串到 /home/orangbus/data/demo.txt 文件中\n* * * * * echo "orangbus.cn" >> /home/orangbus/data/demo.txt\n')])])]),a("p",[t._v("设置一个定时任务: 在打开的文件中加入你需要执行的命令即可，然后保存")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("crontab")]),t._v(" -e\n")])])]),a("p",[t._v("列出现在运行的任务")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("crontab")]),t._v(" -l\n")])])]),a("p",[t._v("案例： 每个小时以交互式备份 laradock 中数据库数据")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("crontab")]),t._v(" -e \n\n* "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" * * * "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" -it 7c02a70f345c mysqldump -uroot -proot xiehui "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /home/"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$USER")]),t._v("/Code/Data\n/"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" +%Y-%m-%d"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(".sql\n")])])]),a("h2",{attrs:{id:"shell笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shell笔记"}},[t._v("#")]),t._v(" Shell笔记")]),t._v(" "),a("h3",{attrs:{id:"颜色"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#颜色"}},[t._v("#")]),t._v(" 颜色")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置字体颜色函数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("blue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[34m"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[01m "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v('[0m"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("green")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[32m"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[01m "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v('[0m"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("greenbg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[43;42m"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[01m "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v('[0m"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("red")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[31m"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[01m "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v('[0m"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("redbg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[37;41m"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[01m "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v('[0m"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("yellow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[33m"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[01m "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v('[0m"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("white")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" -e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[37m"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v("[01m "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token entity",title:"\\033"}},[t._v("\\033")]),t._v('[0m"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"初始化工具安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化工具安装"}},[t._v("#")]),t._v(" 初始化工具安装")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#工具安装")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("install_pack")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("pack_name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"基础工具"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"===> Start to install curl"')]),t._v("    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -x "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" -v yum"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -x "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" -v "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Package manager is not support this OS. Only support to use yum/apt."')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" -1\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"root权限检测"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#root权限检测"}},[t._v("#")]),t._v(" root权限检测")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" -u"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CFAILURE}")]),t._v("Error: You must be root to run this script"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${CEND}")]),t._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"sed-命令配合-for-循环方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed-命令配合-for-循环方式"}},[t._v("#")]),t._v(" sed 命令配合 for 循环方式")]),t._v(" "),a("p",[t._v("假如我们现在有一堆文件，文件名格式是 test01.txt、test02.txt、test03.txt、test04.txt 也就是前半部分是英文，后半部分是数字。我们现在想将文件名改成 test-01.txt 这种形式。这次，我们用 sed 命令来完成这个需求。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" *.txt"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("newFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" $file "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/[a−z]\\+[0−9]\\+/\\1-\\2/'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$newFile")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])])]),a("p",[t._v("批量修改文件名:  ==斗pc穹.mp4  => 斗破苍穹.mp4==")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" *.mp4"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("newFile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" $file "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s/pc/破苍/'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n\n     "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mv")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$newFile")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])])]),a("h2",{attrs:{id:"debian卸载apache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#debian卸载apache"}},[t._v("#")]),t._v(" Debian卸载apache")]),t._v(" "),a("p",[t._v("一般80端口被占用会和我们正在安装的程序产生冲突。这时候我们可以使用。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("lsof -i\n\nlsof -i:80\n")])])]),a("p",[t._v("来查看端口占用情况。如果是apache2占用了，我们就先安全卸载它。Debian 下删除apache 2 的代码")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" --purge remove apache2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" --purge remove apache2.2-common "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" autoremove\n")])])]),a("p",[t._v("最后还需要找到没有删除掉的配置文件进行删除")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" /etc -name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"apache"')]),t._v(" -exec "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -rf /var/www\n")])])]),a("p",[t._v("Linux debian 下重装apache 2")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" apache2\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" /etc/init.d/apache2 restart\n")])])]),a("h2",{attrs:{id:"服务器压力测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器压力测试"}},[t._v("#")]),t._v(" 服务器压力测试")]),t._v(" "),a("p",[t._v("-c : 并发数")]),t._v(" "),a("p",[t._v("-n:请求次数")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ab -c "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127")]),t._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v(" demo.com/\nab -c "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127")]),t._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" -H "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Authorization: 4d43fe0c86c9d21019389678def79da2&6&1621665729"')]),t._v(" http://wanyin.heimeiai.com/api/exam/cate/list?cid"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("\n")])])]),a("p",[t._v("其它参数：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('-n: 测试会话中所执行的请求个数,默认仅执行一个请求 \n-c: 一次产生的请求个数,即同一时间发出多少个请求,默认为一次一个 \n-t: 测试所进行的最大秒数,默认为无时间限制....其内部隐含值是[-n 50000],它可以使对服务器的测试限制在一个固定的总时间以内 \n-p: 包含了需要POST的数据的文件 \n-T: POST数据所使用的Content-type头信息 \n-v: 设置显示信息的详细程度 \n-w: 以HTML表格的形式输出结果,默认是白色背景的两列宽度的一张表\n-i: 以HTML表格的形式输出结果,默认是白色背景的两列宽度的一张表 \n-x: 设置<table>属性的字符串,此属性被填入<table 这里> \n-y: 设置<tr>属性的字符串 \n-z: 设置<td>属性的字符串 \n-C: 对请求附加一个Cookie行，其典型形式是name=value的参数对,此参数可以重复 \n-H: 对请求附加额外的头信息,此参数的典型形式是一个有效的头信息行,其中包含了以冒号分隔的字段和值的对(如"Accept-Encoding: zip/zop;8bit") \n-A: HTTP验证,用冒号:分隔传递用户名及密码 \n-P: 无论服务器是否需要(即是否发送了401认证需求代码),此字符串都会被发送 \n-X: 对请求使用代理服务器 \n-V: 显示版本号并退出 \n-k: 启用HTTP KeepAlive功能,即在一个HTTP会话中执行多个请求,默认为不启用KeepAlive功能 \n-d: 不显示"percentage served within XX [ms] table"的消息(为以前的版本提供支持) \n-S: 不显示中值和标准背离值,且均值和中值为标准背离值的1到2倍时,也不显示警告或出错信息,默认会显示最小值/均值/最大值等(为以前的版本提供支持) \n-g: 把所有测试结果写入一个\'gnuplot\'或者TSV(以Tab分隔的)文件 \n-e: 产生一个以逗号分隔的(CSV)文件,其中包含了处理每个相应百分比的请求所需要(从1%到100%)的相应百分比的(以微妙为单位)时间 \n-h: 显示使用方法 \n-k: 发送keep-alive指令到服务器端\n')])])]),a("p",[a("strong",[t._v("返回信息详解")])]),t._v(" "),a("div",{staticClass:"language-tex extra-class"},[a("pre",{pre:!0,attrs:{class:"language-tex"}},[a("code",[t._v("This is ApacheBench, Version 2.3 <"),a("span",{pre:!0,attrs:{class:"token equation string"}},[t._v("$Revision: 1879490 $")]),t._v(">\nCopyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/\nLicensed to The Apache Software Foundation, http://www.apache.org/\n\nBenchmarking www.xxx.cn (be patient)\n\n\nServer Software:        nginx (服务器软件的版本信息)\nServer Hostname:        www.xxx.cn （请求的url）\nServer Port:            80 (请求端口)\n\nDocument Path:          / (请求路劲)\nDocument Length:        256738 bytes (页面长度 单位是字节)\n\nConcurrency Level:      127 (并发数)\nTime taken for tests:   202.470 seconds (一共使用了 124s)\nComplete requests:      1000 (请求的次数)\nFailed requests:        0 (失败的请求)\nTotal transferred:      257836000 bytes (总共传输的字节数 http 头信息)\nHTML transferred:       256738000 bytes (实际页面传递的字节数)\nRequests per second:    4.94 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("#/sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" (mean) (每秒多少个请求)\nTime per request:       25713.630 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" (mean) (平均每个用户等待多长时间)\nTime per request:       202.470 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ms"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" (mean, across all concurrent requests) (服务器平均用多长时间处理)\nTransfer rate:          1243.61 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Kbytes/sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" received (每秒获取多少数据)\n\nConnection Times (ms)\n              min  mean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("+/-sd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" median   max\nConnect:        4 2624 1919.7   2360    6329 ()\nProcessing:   362 22309 3988.6  22767   49337\nWaiting:      133 2656 1769.9   2092   23343\nTotal:        366 24933 4790.0  26094   55634\n\nPercentage of the requests served within a certain time (ms)\n  50"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  26094 (50% 的用户的请求 15588ms 内返回)")]),t._v("\n  66"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  27477")]),t._v("\n  75"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  27765")]),t._v("\n  80"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  28206")]),t._v("\n  90"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  29575")]),t._v("\n  95"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  30081")]),t._v("\n  98"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  30610")]),t._v("\n  99"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  31703")]),t._v("\n 100"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%  55634 (longest request)")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);